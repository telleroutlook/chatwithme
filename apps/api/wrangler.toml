name = "chatwithme"
main = "src/index.ts"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

# Static assets configuration (serves frontend)
[assets]
directory = "../web/build/client"
binding = "ASSETS"
html_handling = "auto-trailing-slash"
not_found_handling = "single-page-application"

[vars]
ENVIRONMENT = "production"
OPENROUTER_BASE_URL = "https://www.kegui.net/v1"

[[d1_databases]]
binding = "DB"
database_name = "token_db"
database_id = "ba1ebf73-d24b-45b6-882f-45f25c0fc692"

[[r2_buckets]]
binding = "BUCKET"
bucket_name = "chatwithme-files"

[ai]
binding = "AI"
